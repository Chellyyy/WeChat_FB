{"version":3,"sources":["../../../js/player/Birds.js"],"names":["Birds","image","Sprite","getImage","width","height","clippingX","clippingY","clippingWidth","clippingHight","birdX","window","innerWidth","birdsX","birdY","innerHeight","birdsY","birdWidth","birdsWidth","birdHeight","birdsHeight","y","index","count","time","speed","Math","floor","g","offSetUp","offSetY","i","img"],"mappings":";;;;;;;;;;;AAGA;;;;;;+eAHA;AACA;AACA;;;IAGaA,K,WAAAA,K;;;AACT,qBAAc;AAAA;;AACV,YAAMC,QAAQC,gBAAOC,QAAP,CAAgB,OAAhB,CAAd;;AAIA;AACA;AANU,kHAEJF,KAFI,EAEG,CAFH,EAEM,CAFN,EAESA,MAAMG,KAFf,EAEsBH,MAAMI,MAF5B,EAGN,CAHM,EAGH,CAHG,EAGAJ,MAAMG,KAHN,EAGaH,MAAMI,MAHnB;;AAOV,cAAKC,SAAL,GAAiB,CACb,CADa,EAEb,IAAI,EAAJ,GAAS,EAFI,EAGb,IAAI,CAAC,KAAK,EAAN,IAAY,CAHH,CAAjB;AAKA,cAAKC,SAAL,GAAiB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAAjB;AACA,cAAKC,aAAL,GAAqB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAArB;AACA,cAAKC,aAAL,GAAqB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAArB;AACA,YAAMC,QAAQC,OAAOC,UAAP,GAAoB,CAAlC;AACA,cAAKC,MAAL,GAAc,CAACH,KAAD,EAAQA,KAAR,EAAeA,KAAf,CAAd;AACA,YAAMI,QAAQH,OAAOI,WAAP,GAAqB,CAAnC;AACA,cAAKC,MAAL,GAAc,CAACF,KAAD,EAAQA,KAAR,EAAeA,KAAf,CAAd;AACA,YAAMG,YAAY,EAAlB;AACA,cAAKC,UAAL,GAAkB,CAACD,SAAD,EAAYA,SAAZ,EAAuBA,SAAvB,CAAlB;AACA,YAAME,aAAa,EAAnB;AACA,cAAKC,WAAL,GAAmB,CAACD,UAAD,EAAaA,UAAb,EAAyBA,UAAzB,CAAnB;AACA,cAAKE,CAAL,GAAS,CAACP,KAAD,EAAQA,KAAR,EAAeA,KAAf,CAAT;AACA,cAAKQ,KAAL,GAAa,CAAb;AACA,cAAKC,KAAL,GAAa,CAAb;AACA,cAAKC,IAAL,GAAY,CAAZ;AA1BU;AA2Bb;;;;+BAEM;AACH;AACA,gBAAMC,QAAQ,GAAd;AACA,iBAAKF,KAAL,GAAa,KAAKA,KAAL,GAAaE,KAA1B;AACA,gBAAI,KAAKF,KAAL,IAAc,CAAlB,EAAqB;AACjB,qBAAKA,KAAL,GAAa,CAAb;AACH;AACD;AACA,iBAAKD,KAAL,GAAaI,KAAKC,KAAL,CAAW,KAAKJ,KAAhB,CAAb;AACA;AACA,gBAAMK,IAAI,OAAO,CAAjB;AACA;AACA,gBAAMC,WAAW,EAAjB;AACA;AACA,gBAAMC,UAAWF,IAAI,KAAKJ,IAAT,IAAiB,KAAKA,IAAL,GAAYK,QAA7B,CAAD,GAA2C,CAA3D;AACA,iBAAK,IAAIE,IAAI,CAAb,EAAgBA,KAAK,CAArB,EAAwBA,GAAxB,EAA6B;AACzB,qBAAKf,MAAL,CAAYe,CAAZ,IAAiB,KAAKV,CAAL,CAAOU,CAAP,IAAYD,OAA7B;AACH;AACD,iBAAKN,IAAL;AACA,+GACI,KAAKQ,GADT,EAEI,KAAK1B,SAAL,CAAe,KAAKgB,KAApB,CAFJ,EAEgC,KAAKf,SAAL,CAAe,KAAKe,KAApB,CAFhC,EAGI,KAAKd,aAAL,CAAmB,KAAKc,KAAxB,CAHJ,EAGoC,KAAKb,aAAL,CAAmB,KAAKa,KAAxB,CAHpC,EAII,KAAKT,MAAL,CAAY,KAAKS,KAAjB,CAJJ,EAI6B,KAAKN,MAAL,CAAY,KAAKM,KAAjB,CAJ7B,EAKI,KAAKJ,UAAL,CAAgB,KAAKI,KAArB,CALJ,EAKiC,KAAKF,WAAL,CAAiB,KAAKE,KAAtB,CALjC;AAMH;;;;EAvDsBpB,e","file":"Birds.js","sourcesContent":["//小鸟类\r\n//是循环地渲染三只小鸟\r\n//其实是循环渲染图片的三个部分\r\nimport {Sprite} from \"../base/Sprite.js\";\r\n\r\nexport class Birds extends Sprite {\r\n    constructor() {\r\n        const image = Sprite.getImage('birds');\r\n        super(image, 0, 0, image.width, image.height,\r\n            0, 0, image.width, image.height);\r\n\r\n        //小鸟的三种状态需要一个数组去存储\r\n        //小鸟的宽是34，高24，上下边距是10，左右边距是9\r\n        this.clippingX = [\r\n            9,\r\n            9 + 34 + 18,\r\n            9 + (34 + 18) * 2\r\n        ];\r\n        this.clippingY = [10, 10, 10];\r\n        this.clippingWidth = [34, 34, 34];\r\n        this.clippingHight = [24, 24, 24];\r\n        const birdX = window.innerWidth / 4;\r\n        this.birdsX = [birdX, birdX, birdX];\r\n        const birdY = window.innerHeight / 2;\r\n        this.birdsY = [birdY, birdY, birdY];\r\n        const birdWidth = 34;\r\n        this.birdsWidth = [birdWidth, birdWidth, birdWidth];\r\n        const birdHeight = 24;\r\n        this.birdsHeight = [birdHeight, birdHeight, birdHeight];\r\n        this.y = [birdY, birdY, birdY];\r\n        this.index = 0;\r\n        this.count = 0;\r\n        this.time = 0;\r\n    }\r\n\r\n    draw() {\r\n        //切换小鸟速度\r\n        const speed = 0.2;\r\n        this.count = this.count + speed;\r\n        if (this.count >= 2) {\r\n            this.count = 0;\r\n        }\r\n        //减速器的作用\r\n        this.index = Math.floor(this.count);\r\n        //模拟重力加速度\r\n        const g = 0.98 / 3;\r\n        //向上移动一点的偏移量\r\n        const offSetUp = 30;\r\n        //小鸟的位移\r\n        const offSetY = (g * this.time * (this.time - offSetUp)) / 2;\r\n        for (let i = 0; i <= 2; i++) {\r\n            this.birdsY[i] = this.y[i] + offSetY;\r\n        }\r\n        this.time++;\r\n        super.draw(\r\n            this.img,\r\n            this.clippingX[this.index], this.clippingY[this.index],\r\n            this.clippingWidth[this.index], this.clippingHight[this.index],\r\n            this.birdsX[this.index], this.birdsY[this.index],\r\n            this.birdsWidth[this.index], this.birdsHeight[this.index]);\r\n    }\r\n}\r\n"]}