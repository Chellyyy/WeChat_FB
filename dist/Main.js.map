{"version":3,"sources":["../Main.js"],"names":["Main","canvas","document","getElementById","ctx","getContext","dataStore","DataStore","getInstance","loader","ResourceLoader","create","onLoaded","onResourceFirstLoaded","map","res","init","put","BackGround","Director","run"],"mappings":";;;;;;;qjBAAA;;AAEA;;AACA;;AACA;;AACA;;;;IAEaA,I,WAAAA,I;AACT,oBAAa;AAAA;;AAAA;;AACT,aAAKC,MAAL,GAAcC,SAASC,cAAT,CAAwB,aAAxB,CAAd;AACA,aAAKC,GAAL,GAAW,KAAKH,MAAL,CAAYI,UAAZ,CAAuB,IAAvB,CAAX;AACA,aAAKC,SAAL,GAAiBC,qBAAUC,WAAV,EAAjB;AACA,YAAMC,SAASC,+BAAeC,MAAf,EAAf;AACAF,eAAOG,QAAP,CAAgB;AAAA,mBAAO,MAAKC,qBAAL,CAA2BC,GAA3B,CAAP;AAAA,SAAhB;AAGH;;;;8CACqBA,G,EAAI;AACtB,iBAAKR,SAAL,CAAeF,GAAf,GAAqB,KAAKA,GAA1B;AACA,iBAAKE,SAAL,CAAeS,GAAf,GAAqBD,GAArB;AACA,iBAAKE,IAAL;AAGH;;;+BACK;AACF,iBAAKV,SAAL,CACKW,GADL,CACS,YADT,EACuBC,sBADvB;AAEAC,+BAASX,WAAT,GAAuBY,GAAvB;AACH","file":"Main.js","sourcesContent":["//初始化整个游戏的精灵，作为游戏开始的入口\r\n\r\nimport {ResourceLoader} from \"./js/base/ResourceLoader.js\";\r\nimport {Director} from \"./js/Director.js\";\r\nimport {BackGround} from \"./js/runtime/BackGround.js\";\r\nimport {DataStore} from \"./js/base/DataStore.js\";\r\n\r\nexport class Main {\r\n    constructor(){\r\n        this.canvas = document.getElementById('game_canvas');\r\n        this.ctx = this.canvas.getContext('2d');\r\n        this.dataStore = DataStore.getInstance();\r\n        const loader = ResourceLoader.create();\r\n        loader.onLoaded(map => this.onResourceFirstLoaded(map));\r\n\r\n\r\n    }\r\n    onResourceFirstLoaded(map){\r\n        this.dataStore.ctx = this.ctx;\r\n        this.dataStore.res = map;\r\n        this.init();\r\n\r\n\r\n    }\r\n    init(){\r\n        this.dataStore\r\n            .put('background', BackGround);\r\n        Director.getInstance().run();\r\n    }\r\n}"]}